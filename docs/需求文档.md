## 后端

1. 技术栈
- FastAPI   0.116.1+
- SQLite
- python   3.13.0+
- uv 0.6.17+
- scrapy 2.13.3+

2. 数据存储
 - 使用redis、本地文件存储临时数据，默认使用本地文件存储，可以在config里修改
 - 使用txt、epub等电子书格式进行书籍数据持久化

3. 前端交互
- 使用fastapi提供接口将数据发送到前端
- 数据格式任然使用当前爬虫的json数据格式，不需要改变，内容框架不变

4. 数据爬取
- 使用scrapy进行数据爬取，具体代码已经给出，请自行查看，在已有的爬虫代码基础上进行修改适配fastapi

## 前端
1. 技术栈
- React / Vue / Angular 均可

2. 数据交互
- 搜索： 输入框输入关键字，点击搜索按钮，将关键字发送给后端，后端返回数据，前端展示数据
- 搜索得到json数据后，根据json数据展示书籍封面图片、名称、作者、简介等信息
- 使用懒加载加载书籍书籍
- 详情页： 点击书籍封面图片，进入详情页，展示书籍的详细内容，包括书籍的作者、章节数、目录、详情、阅读链接等信息
- 下载：点击下载按钮将当前书籍的索引发送给后端，后端进行书籍爬取下载，前端展示下载进度

3. 搜索功能
- 输入框输入关键字，点击搜索按钮，将关键字发送给后端，后端返回数据，前端展示数据
- 搜索得到json数据后，根据json数据展示书籍封面图片、名称、作者、简介等信息

4. 详情页功能
- 点击书籍封面图片，进入详情页，展示书籍的详细内容，包括书籍的作者、章节数、目录、详情、阅读链接等信息

5. 下载功能
- 点击下载按钮将当前书籍的索引发送给后端，后端进行书籍爬取下载，前端异步交互展示下载进度

6. 前端设计效果
- 响应式
- 懒加载
- 异步实时加载下载进度，显示下载进度
- 可交互


## 接口设计
1. 搜索接口
 - 请求方式: POST
 - 请求路径: /search
 - 请求参数: keyword
 - 请求数据：json数据，遵循Pydantic和openapi规范，
 - 响应数据: json数据，遵循restful规范， data数据内容格式如下：
```json
[
    {
        "url_list": "/book/64927/",
        "url_img": "https://www.97c286.cfd/bookimg/0/469.jpg",
        "articlename": "万道剑尊",
        "author": "打死都要钱",
        "intro": "　　少年得大天造化诀，在逆境中崛起，在绝境中争得一线生机，踏天道，破苍穹，剑指神霄，战遍九天十地！　　"
    },
    {
        "url_list": "/book/62612/",
        "url_img": "https://www.97c286.cfd/bookimg/2/2784.jpg",
        "articlename": "从龙族开始打穿世界",
        "author": "起飞的大象",
        "intro": "　　一身怪力的少年来到了龙族的世界。面对着卡塞尔学院的入学辅导，陆晨很方，满车的小龙人，只有他不是混血种……3E考试怎么"
    }
]
```
2. 书籍详情接口
- 请求方式: POST
- 请求路径: /catalog
- 请求参数: list_index：即书籍在列表中的索引
- 响应数据: json数据，遵循restful规范， data数据内容格式如下：
```json
{
  "novel_info": {
    "novel_id": "/book/55105/",
    "novel_title": "龙族5",
    "author": "在线阅读全文V江南",
    "total_chapters": 236,
    "domain": "www.97c286.cfd",
    "detail_url": "https://www.97c286.cfd/book/55105/"
  },
  "chapters": [
    {
      "title": "第1章",
      "url": "/book/55105/1.html"
    },
    {
      "title": "第2章全民公敌1",
      "url": "/book/55105/2.html"
    },
    {
      "title": "第3章全民公敌2",
      "url": "/book/55105/3.html"
    }
  ]
}
```  
3. 书籍下载接口
- 请求方式: POST
- 请求路径: /download
- 请求参数：
  - -list_index：即书籍在列表中的索引
  - chapter_begin_index：开始章节索引,默认为1
  - chapter_end_index：结束章节索引,默认为最大章节索引
- 响应数据: json数据，遵循restful规范，包含下载信息，请求是否成功信息

4. 书籍下载进度接口
- 请求方式: GET
- 请求路径: /download/progress
- 响应数据: json数据，遵循restful规范，包含下载进度信息